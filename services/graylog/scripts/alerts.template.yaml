- title: "${MACHINE_FQDN}: Interactive Study Data too large for AWS S3 and hanging"
  description: "${MACHINE_FQDN}: Study Hanging"
  priority: 3
  config:
    query: '"EntityTooLarge" AND NOT container_name:/.*graylog_graylog.*/'
    query_parameters: []
    search_within_ms: 600000
    execute_every_ms: 600000
    group_by: []
    series: []
    conditions: {}
    type: aggregation-v1
  field_spec:
    source:
      data_type: string
      providers:
      - type: template-v1
        template: "${source.source}"
        require_values: false
    container_name:
      data_type: string
      providers:
      - type: template-v1
        template: "${source.container_name}"
        require_values: false
  key_spec:
    - source
    - container_name
  notification_settings:
    grace_period_ms: 0
    backlog_size:
  alert: true
- title: "${MACHINE_FQDN}: Writer Is None Error in Webserver"
  description: "${MACHINE_FQDN}: Alert if \"writer is None\" pops up. Communication with rabbitMQ is disrupted and this will make simcore go crazy"
  priority: 3
  config:
    query: '"writer is None" AND NOT container_name:/.*graylog_graylog.*/'
    query_parameters: []
    search_within_ms: 600000
    execute_every_ms: 600000
    group_by: []
    series: []
    conditions: {}
    type: aggregation-v1
  field_spec:
    source:
      data_type: string
      providers:
      - type: template-v1
        template: "${source.source}"
        require_values: false
    container_name:
      data_type: string
      providers:
      - type: template-v1
        template: "${source.container_name}"
        require_values: false
  key_spec:
    - source
    - container_name
  notification_settings:
    grace_period_ms: 0
    backlog_size:
  alert: true
- title: "${MACHINE_FQDN}: Dynamic Sidecar failed to save with S3TransferError"
  description: "${MACHINE_FQDN}: Alert if Dynamic Sidecar failed to save with S3TransferError"
  priority: 3
  config:
    query: '"simcore_sdk.node_ports_common.exceptions.S3TransferError: Could not upload file" AND NOT container_name:/.*graylog_graylog.*/'
    query_parameters: []
    search_within_ms: 600000
    execute_every_ms: 600000
    group_by: []
    series: []
    conditions: {}
    type: aggregation-v1
  field_spec:
    source:
      data_type: string
      providers:
      - type: template-v1
        template: "${source.source}"
        require_values: false
    container_name:
      data_type: string
      providers:
      - type: template-v1
        template: "${source.container_name}"
        require_values: false
  key_spec:
    - source
    - container_name
  notification_settings:
    grace_period_ms: 0
    backlog_size:
  alert: true
- title: "${MACHINE_FQDN}: Dynamic Sidecar failed to save - 2"
  description: "${MACHINE_FQDN}: Alert if Dynamic Sidecar failed to save - 2"
  priority: 3
  config:
    query: '"Could not contact dynamic-sidecar to save service" AND NOT container_name:/.*graylog_graylog.*/'
    query_parameters: []
    search_within_ms: 600000
    execute_every_ms: 600000
    group_by: []
    series: []
    conditions: {}
    type: aggregation-v1
  field_spec:
    source:
      data_type: string
      providers:
      - type: template-v1
        template: "${source.source}"
        require_values: false
    container_name:
      data_type: string
      providers:
      - type: template-v1
        template: "${source.container_name}"
        require_values: false
  key_spec:
    - source
    - container_name
  notification_settings:
    grace_period_ms: 0
    backlog_size:
  alert: true
- title: "${MACHINE_FQDN}: Zombie dy-volumes detected and saved offsite"
  description: "${MACHINE_FQDN}: Zombie dy-volumes detected and saved offsite"
  priority: 3
  config:
    query: '"Files to sync by rclone" AND NOT container_name:/.*graylog_graylog.*/'
    query_parameters: []
    search_within_ms: 600000
    execute_every_ms: 600000
    group_by: []
    series: []
    conditions: {}
    type: aggregation-v1
  field_spec:
    source:
      data_type: string
      providers:
      - type: template-v1
        template: "${source.source}"
        require_values: false
    container_name:
      data_type: string
      providers:
      - type: template-v1
        template: "${source.container_name}"
        require_values: false
  key_spec:
    - source
    - container_name
  notification_settings:
    grace_period_ms: 0
    backlog_size:
  alert: true
