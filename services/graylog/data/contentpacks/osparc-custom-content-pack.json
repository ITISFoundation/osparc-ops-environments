{
  "v": 1,
  "id": "eeab5a4a-2b8e-49f2-a1ea-b196a75f7592",
  "rev": 1,
  "name": "osparc-custom-content-pack",
  "summary": "osparc-custom-content-pack",
  "description": "",
  "vendor": "Osparc team",
  "url": "",
  "parameters": [],
  "entities": [
    {
      "v": "1",
      "type": {
        "name": "search",
        "version": "1"
      },
      "id": "031f56d9-8ab9-46e9-89a5-2197450a44d9",
      "data": {
        "summary": {
          "@type": "string",
          "@value": ""
        },
        "search": {
          "queries": [
            {
              "id": "3effc4a2-7076-4cd1-bd86-5bfb18254294",
              "timerange": {
                "from": 300,
                "type": "relative"
              },
              "filters": [],
              "query": {
                "type": "elasticsearch",
                "query_string": ""
              },
              "search_types": [
                {
                  "query": null,
                  "name": "chart",
                  "timerange": null,
                  "column_limit": null,
                  "streams": [],
                  "row_limit": null,
                  "series": [
                    {
                      "type": "count",
                      "id": "count()",
                      "field": null
                    }
                  ],
                  "filter": null,
                  "rollup": true,
                  "row_groups": [
                    {
                      "type": "time",
                      "fields": [
                        "timestamp"
                      ],
                      "interval": {
                        "type": "auto",
                        "scaling": 1
                      }
                    }
                  ],
                  "type": "pivot",
                  "id": "b05bb74f-bbca-4e7b-a2c8-d4b853dcdf57",
                  "filters": [],
                  "column_groups": [],
                  "sort": []
                },
                {
                  "query": null,
                  "name": null,
                  "timerange": null,
                  "offset": 0,
                  "streams": [],
                  "filter": null,
                  "decorators": [],
                  "type": "messages",
                  "id": "387ced66-71f9-4118-b376-8e271095569d",
                  "limit": 150,
                  "filters": []
                }
              ]
            }
          ],
          "parameters": [],
          "requires": {},
          "owner": "admin",
          "created_at": "2023-04-18T08:55:32.021Z"
        },
        "created_at": "2023-04-18T08:55:32.000Z",
        "requires": {},
        "state": {
          "3effc4a2-7076-4cd1-bd86-5bfb18254294": {
            "selected_fields": null,
            "static_message_list_id": null,
            "titles": {
              "widget": {
                "64f236c9-1811-41de-97a2-990684af0055": "Message Count",
                "027401ae-c766-4fb5-b53f-1d28b68ba022": "All Messages"
              }
            },
            "widgets": [
              {
                "id": "64f236c9-1811-41de-97a2-990684af0055",
                "type": "aggregation",
                "filter": null,
                "filters": [],
                "timerange": null,
                "query": null,
                "streams": [],
                "config": {
                  "visualization": "bar",
                  "column_limit": null,
                  "event_annotation": false,
                  "row_limit": null,
                  "row_pivots": [
                    {
                      "fields": [
                        "timestamp"
                      ],
                      "type": "time",
                      "config": {
                        "interval": {
                          "type": "auto",
                          "scaling": 1
                        }
                      }
                    }
                  ],
                  "series": [
                    {
                      "config": {
                        "name": null
                      },
                      "function": "count()"
                    }
                  ],
                  "rollup": true,
                  "column_pivots": [],
                  "visualization_config": null,
                  "formatting_settings": null,
                  "sort": []
                }
              },
              {
                "id": "027401ae-c766-4fb5-b53f-1d28b68ba022",
                "type": "messages",
                "filter": null,
                "filters": [],
                "timerange": null,
                "query": null,
                "streams": [],
                "config": {
                  "fields": [
                    "timestamp",
                    "source",
                    "container_name",
                    "message"
                  ],
                  "show_message_row": false,
                  "show_summary": false,
                  "decorators": [],
                  "sort": [
                    {
                      "type": "pivot",
                      "field": "timestamp",
                      "direction": "Descending"
                    }
                  ]
                }
              }
            ],
            "widget_mapping": {
              "64f236c9-1811-41de-97a2-990684af0055": [
                "b05bb74f-bbca-4e7b-a2c8-d4b853dcdf57"
              ],
              "027401ae-c766-4fb5-b53f-1d28b68ba022": [
                "387ced66-71f9-4118-b376-8e271095569d"
              ]
            },
            "positions": {
              "64f236c9-1811-41de-97a2-990684af0055": {
                "col": 1,
                "row": 6,
                "height": 2,
                "width": "Infinity"
              },
              "027401ae-c766-4fb5-b53f-1d28b68ba022": {
                "col": 1,
                "row": 8,
                "height": 6,
                "width": "Infinity"
              }
            },
            "formatting": null,
            "display_mode_settings": {
              "positions": {}
            }
          }
        },
        "properties": [],
        "owner": "admin",
        "title": {
          "@type": "string",
          "@value": "osparc-default"
        },
        "type": "SEARCH",
        "description": {
          "@type": "string",
          "@value": ""
        }
      },
      "constraints": [
        {
          "type": "server-version",
          "version": ">=5.0.5+d61a926"
        }
      ]
    },
    {
      "v": "1",
      "type": {
        "name": "pipeline",
        "version": "1"
      },
      "id": "d6a8bc81-ccc8-479f-b3ef-84547f581865",
      "data": {
        "title": {
          "@type": "string",
          "@value": "osparc-simcore replace pipeline"
        },
        "description": {
          "@type": "string",
          "@value": ""
        },
        "source": {
          "@type": "string",
          "@value": "pipeline \"osparc-simcore replace pipeline\"\nstage 0 match either\nrule \"replace \\\\n with \\n for message\"\nstage 1 match either\nrule \"replace \\\\n with \\n for log_msg\"\nend"
        },
        "connected_streams": [
          {
            "@type": "string",
            "@value": "000000000000000000000001"
          }
        ]
      },
      "constraints": [
        {
          "type": "server-version",
          "version": ">=5.0.5+d61a926"
        }
      ]
    },
    {
      "v": "1",
      "type": {
        "name": "pipeline_rule",
        "version": "1"
      },
      "id": "c114f82a-b629-41e3-b92d-80cd2e3a1e29",
      "data": {
        "title": {
          "@type": "string",
          "@value": "replace \\\\n with \\n for log_msg"
        },
        "description": {
          "@type": "string",
          "@value": "replace new line char for log_msg"
        },
        "source": {
          "@type": "string",
          "@value": "rule \"replace \\\\n with \\n for log_msg\"\nwhen\n  has_field(\"log_msg\")\nthen\n  let newMessage = replace(to_string($message.log_msg), \"\\\\n\", \"\\n\");\n  set_field(\"log_msg\", newMessage);\nend"
        }
      },
      "constraints": [
        {
          "type": "server-version",
          "version": ">=5.0.5+d61a926"
        }
      ]
    },
    {
      "v": "1",
      "type": {
        "name": "search",
        "version": "1"
      },
      "id": "da4b05e2-dc7e-48e5-8ce2-fa126c27fb79",
      "data": {
        "summary": {
          "@type": "string",
          "@value": ""
        },
        "search": {
          "queries": [
            {
              "id": "4acc0912-d78e-46dc-8e80-7b1c73ba0b34",
              "timerange": {
                "from": 300,
                "type": "relative"
              },
              "filters": [],
              "query": {
                "type": "elasticsearch",
                "query_string": ""
              },
              "search_types": [
                {
                  "query": null,
                  "name": "chart",
                  "timerange": null,
                  "column_limit": null,
                  "streams": [],
                  "row_limit": null,
                  "series": [
                    {
                      "type": "count",
                      "id": "count()",
                      "field": null
                    }
                  ],
                  "filter": null,
                  "rollup": true,
                  "row_groups": [
                    {
                      "type": "time",
                      "fields": [
                        "timestamp"
                      ],
                      "interval": {
                        "type": "auto",
                        "scaling": 1
                      }
                    }
                  ],
                  "type": "pivot",
                  "id": "b61cf32a-ac81-4caf-832e-7f65255f0f03",
                  "filters": [],
                  "column_groups": [],
                  "sort": []
                },
                {
                  "query": null,
                  "name": null,
                  "timerange": null,
                  "offset": 0,
                  "streams": [],
                  "filter": null,
                  "decorators": [],
                  "type": "messages",
                  "id": "5d45b862-2d5e-4373-a86d-0f2412f73236",
                  "limit": 150,
                  "filters": []
                }
              ]
            }
          ],
          "parameters": [],
          "requires": {},
          "owner": "admin",
          "created_at": "2023-04-17T14:37:30.130Z"
        },
        "created_at": "2023-04-17T14:37:30.122Z",
        "requires": {},
        "state": {
          "4acc0912-d78e-46dc-8e80-7b1c73ba0b34": {
            "selected_fields": null,
            "static_message_list_id": null,
            "titles": {
              "widget": {
                "c11dab9a-14ef-460b-a639-2d16bc5aa9b1": "Message Count",
                "13a54af2-3290-4c12-bbc0-45396b0a56e9": "All Messages"
              }
            },
            "widgets": [
              {
                "id": "c11dab9a-14ef-460b-a639-2d16bc5aa9b1",
                "type": "aggregation",
                "filter": null,
                "filters": [],
                "timerange": null,
                "query": null,
                "streams": [],
                "config": {
                  "visualization": "bar",
                  "column_limit": null,
                  "event_annotation": false,
                  "row_limit": null,
                  "row_pivots": [
                    {
                      "fields": [
                        "timestamp"
                      ],
                      "type": "time",
                      "config": {
                        "interval": {
                          "type": "auto",
                          "scaling": 1
                        }
                      }
                    }
                  ],
                  "series": [
                    {
                      "config": {
                        "name": null
                      },
                      "function": "count()"
                    }
                  ],
                  "rollup": true,
                  "column_pivots": [],
                  "visualization_config": null,
                  "formatting_settings": null,
                  "sort": []
                }
              },
              {
                "id": "13a54af2-3290-4c12-bbc0-45396b0a56e9",
                "type": "messages",
                "filter": null,
                "filters": [],
                "timerange": null,
                "query": null,
                "streams": [],
                "config": {
                  "fields": [
                    "timestamp",
                    "source",
                    "log_level",
                    "log_service",
                    "log_msg",
                    "log_source"
                  ],
                  "show_message_row": false,
                  "show_summary": false,
                  "decorators": [],
                  "sort": [
                    {
                      "type": "pivot",
                      "field": "timestamp",
                      "direction": "Descending"
                    }
                  ]
                }
              }
            ],
            "widget_mapping": {
              "c11dab9a-14ef-460b-a639-2d16bc5aa9b1": [
                "b61cf32a-ac81-4caf-832e-7f65255f0f03"
              ],
              "13a54af2-3290-4c12-bbc0-45396b0a56e9": [
                "5d45b862-2d5e-4373-a86d-0f2412f73236"
              ]
            },
            "positions": {
              "13a54af2-3290-4c12-bbc0-45396b0a56e9": {
                "col": 1,
                "row": 8,
                "height": 6,
                "width": "Infinity"
              },
              "c11dab9a-14ef-460b-a639-2d16bc5aa9b1": {
                "col": 1,
                "row": 6,
                "height": 2,
                "width": "Infinity"
              }
            },
            "formatting": {
              "highlighting": []
            },
            "display_mode_settings": {
              "positions": {}
            }
          }
        },
        "properties": [],
        "owner": "admin",
        "title": {
          "@type": "string",
          "@value": "osparc-simcore-default"
        },
        "type": "SEARCH",
        "description": {
          "@type": "string",
          "@value": ""
        }
      },
      "constraints": [
        {
          "type": "server-version",
          "version": ">=5.0.5+d61a926"
        }
      ]
    },
    {
      "v": "1",
      "type": {
        "name": "pipeline_rule",
        "version": "1"
      },
      "id": "3f8c55f1-05ce-4451-beaa-a85da4e1d9be",
      "data": {
        "title": {
          "@type": "string",
          "@value": "replace \\\\n with \\n for message"
        },
        "description": {
          "@type": "string",
          "@value": "replace new line char for message"
        },
        "source": {
          "@type": "string",
          "@value": "rule \"replace \\\\n with \\n for message\"\nwhen\n  has_field(\"message\")\nthen\n  let newMessage = replace(to_string($message.message), \"\\\\n\", \"\\n\");\n  set_field(\"message\", newMessage);\nend"
        }
      },
      "constraints": [
        {
          "type": "server-version",
          "version": ">=5.0.5+d61a926"
        }
      ]
    },
    {
      "v": "1",
      "type": {
        "name": "search",
        "version": "1"
      },
      "id": "23b60d05-4b9a-4a94-90ff-068cabab3ed1",
      "data": {
        "summary": {
          "@type": "string",
          "@value": ""
        },
        "search": {
          "queries": [
            {
              "id": "9267194b-70b5-42b2-85c5-e47cf669e76f",
              "timerange": {
                "from": 300,
                "type": "relative"
              },
              "filters": [],
              "query": {
                "type": "elasticsearch",
                "query_string": ""
              },
              "search_types": [
                {
                  "query": null,
                  "name": "chart",
                  "timerange": null,
                  "column_limit": null,
                  "streams": [],
                  "row_limit": null,
                  "series": [
                    {
                      "type": "count",
                      "id": "count()",
                      "field": null
                    }
                  ],
                  "filter": null,
                  "rollup": true,
                  "row_groups": [
                    {
                      "type": "time",
                      "fields": [
                        "timestamp"
                      ],
                      "interval": {
                        "type": "auto",
                        "scaling": 1
                      }
                    }
                  ],
                  "type": "pivot",
                  "id": "390700bd-b286-47e1-8329-385e1a126f4a",
                  "filters": [],
                  "column_groups": [],
                  "sort": []
                },
                {
                  "query": null,
                  "name": null,
                  "timerange": null,
                  "offset": 0,
                  "streams": [],
                  "filter": null,
                  "decorators": [],
                  "type": "messages",
                  "id": "9bcfbecc-d01a-4388-b663-ca9f334a3770",
                  "limit": 150,
                  "filters": []
                }
              ]
            }
          ],
          "parameters": [],
          "requires": {},
          "owner": "admin",
          "created_at": "2023-04-18T08:56:32.737Z"
        },
        "created_at": "2023-04-18T08:56:32.719Z",
        "requires": {},
        "state": {
          "9267194b-70b5-42b2-85c5-e47cf669e76f": {
            "selected_fields": null,
            "static_message_list_id": null,
            "titles": {
              "widget": {
                "8c99e1fb-0b0b-4cc8-ab9d-c2c612b93a44": "Message Count",
                "64253c5a-f038-4a4f-b344-7815b678744b": "All Messages"
              }
            },
            "widgets": [
              {
                "id": "64253c5a-f038-4a4f-b344-7815b678744b",
                "type": "messages",
                "filter": null,
                "filters": [],
                "timerange": null,
                "query": null,
                "streams": [],
                "config": {
                  "fields": [
                    "timestamp",
                    "source",
                    "container_name",
                    "message",
                    "full_message"
                  ],
                  "show_message_row": false,
                  "show_summary": false,
                  "decorators": [],
                  "sort": [
                    {
                      "type": "pivot",
                      "field": "timestamp",
                      "direction": "Descending"
                    }
                  ]
                }
              },
              {
                "id": "8c99e1fb-0b0b-4cc8-ab9d-c2c612b93a44",
                "type": "aggregation",
                "filter": null,
                "filters": [],
                "timerange": null,
                "query": null,
                "streams": [],
                "config": {
                  "visualization": "bar",
                  "column_limit": null,
                  "event_annotation": false,
                  "row_limit": null,
                  "row_pivots": [
                    {
                      "fields": [
                        "timestamp"
                      ],
                      "type": "time",
                      "config": {
                        "interval": {
                          "type": "auto",
                          "scaling": 1
                        }
                      }
                    }
                  ],
                  "series": [
                    {
                      "config": {
                        "name": null
                      },
                      "function": "count()"
                    }
                  ],
                  "rollup": true,
                  "column_pivots": [],
                  "visualization_config": null,
                  "formatting_settings": null,
                  "sort": []
                }
              }
            ],
            "widget_mapping": {
              "8c99e1fb-0b0b-4cc8-ab9d-c2c612b93a44": [
                "390700bd-b286-47e1-8329-385e1a126f4a"
              ],
              "64253c5a-f038-4a4f-b344-7815b678744b": [
                "9bcfbecc-d01a-4388-b663-ca9f334a3770"
              ]
            },
            "positions": {
              "8c99e1fb-0b0b-4cc8-ab9d-c2c612b93a44": {
                "col": 1,
                "row": 5,
                "height": 2,
                "width": "Infinity"
              },
              "64253c5a-f038-4a4f-b344-7815b678744b": {
                "col": 1,
                "row": 7,
                "height": 6,
                "width": "Infinity"
              }
            },
            "formatting": null,
            "display_mode_settings": {
              "positions": {}
            }
          }
        },
        "properties": [],
        "owner": "admin",
        "title": {
          "@type": "string",
          "@value": "osparc-andrei-export"
        },
        "type": "SEARCH",
        "description": {
          "@type": "string",
          "@value": ""
        }
      },
      "constraints": [
        {
          "type": "server-version",
          "version": ">=5.0.5+d61a926"
        }
      ]
    },
    {
      "v": "1",
      "type": {
        "name": "input",
        "version": "1"
      },
      "id": "f8bdf565-3abc-466a-b78f-2113a7d9b399",
      "data": {
        "title": {
          "@type": "string",
          "@value": "standard GELF UDP input"
        },
        "configuration": {
          "bind_address": {
            "@type": "string",
            "@value": "0.0.0.0"
          },
          "port": {
            "@type": "integer",
            "@value": 12201
          }
        },
        "static_fields": {},
        "type": {
          "@type": "string",
          "@value": "org.graylog2.inputs.gelf.udp.GELFUDPInput"
        },
        "global": {
          "@type": "boolean",
          "@value": true
        },
        "extractors": [
          {
            "target_field": {
              "@type": "string",
              "@value": ""
            },
            "condition_value": {
              "@type": "string",
              "@value": ""
            },
            "order": {
              "@type": "integer",
              "@value": 0
            },
            "converters": [],
            "configuration": {
              "grok_pattern": {
                "@type": "string",
                "@value": "log_level=%{WORD:log_level} \\| log_timestamp=%{TIMESTAMP_ISO8601:log_timestamp} \\| log_source=%{DATA:log_source} \\| log_msg=%{GREEDYDATA:log_msg}"
              },
              "named_captures_only": {
                "@type": "boolean",
                "@value": false
              }
            },
            "source_field": {
              "@type": "string",
              "@value": "message"
            },
            "title": {
              "@type": "string",
              "@value": "osparc-simcore python extractor"
            },
            "type": {
              "@type": "string",
              "@value": "GROK"
            },
            "cursor_strategy": {
              "@type": "string",
              "@value": "COPY"
            },
            "condition_type": {
              "@type": "string",
              "@value": "NONE"
            }
          },
          {
            "target_field": {
              "@type": "string",
              "@value": "log_service"
            },
            "condition_value": {
              "@type": "string",
              "@value": ""
            },
            "order": {
              "@type": "integer",
              "@value": 0
            },
            "converters": [],
            "configuration": {
              "index": {
                "@type": "integer",
                "@value": 1
              },
              "split_by": {
                "@type": "string",
                "@value": "."
              }
            },
            "source_field": {
              "@type": "string",
              "@value": "container_name"
            },
            "title": {
              "@type": "string",
              "@value": "Extract service from container name"
            },
            "type": {
              "@type": "string",
              "@value": "SPLIT_AND_INDEX"
            },
            "cursor_strategy": {
              "@type": "string",
              "@value": "COPY"
            },
            "condition_type": {
              "@type": "string",
              "@value": "NONE"
            }
          }
        ]
      },
      "constraints": [
        {
          "type": "server-version",
          "version": ">=5.0.5+d61a926"
        }
      ]
    },
    {
      "v": "1",
      "type": {
        "name": "grok_pattern",
        "version": "1"
      },
      "id": "48914cf9-df00-4e55-80bf-1359158c322b",
      "data": {
        "name": "WORD",
        "pattern": "\\b\\w+\\b"
      },
      "constraints": [
        {
          "type": "server-version",
          "version": ">=5.0.5+d61a926"
        }
      ]
    },
    {
      "v": "1",
      "type": {
        "name": "grok_pattern",
        "version": "1"
      },
      "id": "654b9af7-1d6c-4d92-a6f6-1796ea546ccf",
      "data": {
        "name": "GREEDYDATA",
        "pattern": ".*"
      },
      "constraints": [
        {
          "type": "server-version",
          "version": ">=5.0.5+d61a926"
        }
      ]
    },
    {
      "v": "1",
      "type": {
        "name": "grok_pattern",
        "version": "1"
      },
      "id": "9aaa74ad-e0c1-4163-a280-7be4a194b2e3",
      "data": {
        "name": "TIMESTAMP_ISO8601",
        "pattern": "%{YEAR}-%{MONTHNUM}-%{MONTHDAY}[T ]%{HOUR}:?%{MINUTE}(?::?%{SECOND})?%{ISO8601_TIMEZONE}?"
      },
      "constraints": [
        {
          "type": "server-version",
          "version": ">=5.0.5+d61a926"
        }
      ]
    },
    {
      "v": "1",
      "type": {
        "name": "grok_pattern",
        "version": "1"
      },
      "id": "84dde9ff-1cdb-495a-b840-c90719b06d57",
      "data": {
        "name": "DATA",
        "pattern": ".*?"
      },
      "constraints": [
        {
          "type": "server-version",
          "version": ">=5.0.5+d61a926"
        }
      ]
    },
    {
      "v": "1",
      "type": {
        "name": "grok_pattern",
        "version": "1"
      },
      "id": "a310e8db-5928-4bd3-b53b-fed95dd7faf0",
      "data": {
        "name": "YEAR",
        "pattern": "(?>\\d\\d){1,2}"
      },
      "constraints": [
        {
          "type": "server-version",
          "version": ">=5.0.5+d61a926"
        }
      ]
    },
    {
      "v": "1",
      "type": {
        "name": "grok_pattern",
        "version": "1"
      },
      "id": "fe73e4b5-eccb-4c5e-bf0c-751d7cc14c89",
      "data": {
        "name": "MONTHNUM",
        "pattern": "(?:0?[1-9]|1[0-2])"
      },
      "constraints": [
        {
          "type": "server-version",
          "version": ">=5.0.5+d61a926"
        }
      ]
    },
    {
      "v": "1",
      "type": {
        "name": "grok_pattern",
        "version": "1"
      },
      "id": "5d6992b7-a952-48c5-9872-5a941720851a",
      "data": {
        "name": "HOUR",
        "pattern": "(?:2[0123]|[01]?[0-9])"
      },
      "constraints": [
        {
          "type": "server-version",
          "version": ">=5.0.5+d61a926"
        }
      ]
    },
    {
      "v": "1",
      "type": {
        "name": "grok_pattern",
        "version": "1"
      },
      "id": "aac627b5-0a7a-4999-b179-ae9809cd16a7",
      "data": {
        "name": "MINUTE",
        "pattern": "(?:[0-5][0-9])"
      },
      "constraints": [
        {
          "type": "server-version",
          "version": ">=5.0.5+d61a926"
        }
      ]
    },
    {
      "v": "1",
      "type": {
        "name": "grok_pattern",
        "version": "1"
      },
      "id": "e022a60d-93ae-4dce-b9a1-1b8165b11f32",
      "data": {
        "name": "SECOND",
        "pattern": "(?:(?:[0-5]?[0-9]|60)(?:[:.,][0-9]+)?)"
      },
      "constraints": [
        {
          "type": "server-version",
          "version": ">=5.0.5+d61a926"
        }
      ]
    },
    {
      "v": "1",
      "type": {
        "name": "grok_pattern",
        "version": "1"
      },
      "id": "2da83fe4-d05b-4f34-8221-96ffdb68e622",
      "data": {
        "name": "ISO8601_TIMEZONE",
        "pattern": "(?:Z|[+-]%{HOUR}(?::?%{MINUTE}))"
      },
      "constraints": [
        {
          "type": "server-version",
          "version": ">=5.0.5+d61a926"
        }
      ]
    },
    {
      "v": "1",
      "type": {
        "name": "grok_pattern",
        "version": "1"
      },
      "id": "d9689d94-13bb-465f-a5b0-b3cff023620f",
      "data": {
        "name": "MONTHDAY",
        "pattern": "(?:(?:0[1-9])|(?:[12][0-9])|(?:3[01])|[1-9])"
      },
      "constraints": [
        {
          "type": "server-version",
          "version": ">=5.0.5+d61a926"
        }
      ]
    }
  ]
}
